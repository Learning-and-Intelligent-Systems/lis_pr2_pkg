<launch>
  <arg name="kinect_camera_name" default="head_mount_kinect" />
  <arg name="model_set" default="SUSHI_MODEL_SET"/>
  <arg name="flatten_table" default="true"/>	

  <include file="$(find pr2_teleop)/teleop_joystick.launch"/>

  <include file="$(find pr2_gripper_sensor_action)/launch/pr2_gripper_sensor_actions.launch"/>


  <include file="$(find openni_launch)/launch/openni.launch">
    <arg name="camera" value="$(arg kinect_camera_name)"/>
    <arg name="rgb_frame_id" value= "$(arg kinect_camera_name)_rgb_optical_frame" />
    <arg name="depth_frame_id" value= "$(arg kinect_camera_name)_rgb_optical_frame" />
  </include>
    
  <!-- tabletop collision map processing-->
    <rosparam command="load" file="$(find household_objects_database)/config/localhost.yaml"/>
    <node pkg="household_objects_database" name="objects_database_node" type="objects_database_node" 
      respawn="true" output="screen">
    </node>

  <param name="tabletop_segmentation/x_filter_min" value="0.15"/>
    <include file="$(find tabletop_object_detector)/launch/tabletop_complete.launch">
      <arg name="tabletop_segmentation_points_input" value="$(arg kinect_camera_name)/depth_registered/points"/>
      <arg name="flatten_table" value="$(arg flatten_table)"/>	
      <arg name="model_set" value="$(arg model_set)"/> 
    </include>


</launch>
